<!-- Begin of cc_manual_header -->
<!-- ------------------------- -->
<!-- $Revision: 1.1 $ -->
<!-- $Date: 1997/05/09 12:27:08 $ -->

  <!-- CC manual page automatically extracted from a TeX specification -->
  <!-- in file Chapter_Numbertype.html -->
  <!-- by cc_extract_html, $Revision: 2.18 $. -->

<!--  Title -->
  <HEAD>
  <TITLE>Reference Manual: CGAL_Interval_nt</TITLE>
  </HEAD>

<!-- Background layout-->
  <BODY BGCOLOR="FAF8E8" TEXT="#000000">

<!-- Navigation -->
  <STRONG>Navigation:</STRONG>
  <A HREF="Chapter_Numbertype.html">Up</A>,
  <A HREF="../contents.html">Table of Contents</A>,
  <A HREF="../biblio.html">Bibliography</A>,
  <A HREF="../manual_index.html">Index</A>,
  <A HREF="../title.html">Title Page</A>
<HR>

<!-- End of cc_manual_header -->

<A NAME="Index_anchor_2"></A>

<A NAME="Cross_link_anchor_2"></A>

<P>

<H2> Interval Arithmetic (<I><A HREF="CGAL_Interval_nt.html#Cross_link_anchor_2">CGAL_Interval_nt</A></I>)</H2>
<P>

<A NAME="interval"></A>
<P>

This chapter describes briefly what interval arithmetic is, its
implementation in CGAL, and its possible use by geometric programs. The
main reason for having interval arithmetic in CGAL is its integration
into a geometric predicate pre-compiler, but we also provide a number
type so that the users can use it separately if they find any use for
it. The purpose of interval arithmetic is to provide an efficient way
to control the errors made by floating point computations.
<P>

\paragraphWarning This number type is definitely for the advanced user,
who understands what happens. This type is nothing more than doubles,
but you can, when you ask for it, have a control on the computation
error. That means that if you only use the classical operations on
number types, it won't be useful to you. Specifically, if algorithms
are not designed to work with interval arithmetic, it makes no sense to
plug this number type into a representation class. For example, if you
plug this number type into a representation class of say,
<I>CGAL_Point_2</I>, and apply the <I>CGAL_convex_hull_points_2</I>
algorithm, the interval arithmetic will not be used.
<P>

<H3>Definition</H3>Interval arithmetic is a large concept and we will
only consider here a simple arithmetic based on intervals whose bounds
are <I>double</I>s. So each variable is an interval representing any
value inside the interval. All arithmetic operations made on intervals
give a result that contain all possible values. For example, if the
final result of a sequence of arithmetic operations is an interval that
does not contain zero, then you can surely decide the sign of the
result.
<P>

<I>#include &lt;CGAL/Interval_arithmetic.h&gt;</I>
<P>

<H3>Creation</H3>
<P>

        <!2><TABLE BORDER=0 CELLSPACING=2 CELLPADDING=0 WIDTH=650>
        <TR><TD ALIGN=LEFT VALIGN=TOP WIDTH=100% NOWRAP COLSPAN=2>
        <I><NOBR>
    <A HREF="CGAL_Interval_nt.html#Cross_link_anchor_2">CGAL_Interval_nt</A> *this (  double d = 0);
        </I></NOBR>
        </TD></TR><TR><TD WIDTH=30% NOWRAP></TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=70%>
    introduces an interval whose bounds are <I>d</I>.
    <P>
        </TD></TR>
        
        <TR><TD ALIGN=LEFT VALIGN=TOP WIDTH=100% NOWRAP COLSPAN=2>
        <I><NOBR>
    <A HREF="CGAL_Interval_nt.html#Cross_link_anchor_2">CGAL_Interval_nt</A> *this (  double d,  double e);
        </I></NOBR>
        </TD></TR><TR><TD WIDTH=30% NOWRAP></TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=70%>
    introduces the interval [d;e].
    <P>
        </TD></TR>
        </TABLE><!2>

<P>

Several functions should provide a cast from any numerical type used by
CGAL, to an interval <A HREF="CGAL_Interval_nt.html#Cross_link_anchor_2">CGAL_Interval_nt</A>.
<P>

<H3>Operations</H3>
<P>

All functions required by a class to be considered a CGAL number type
are present, sometimes with a particular semantic, notably&nbsp;:
<P>

        <!3><TABLE BORDER=0 CELLSPACING=2 CELLPADDING=0 WIDTH=650>
        <TR><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
    <A HREF="CGAL_Interval_nt.html#Cross_link_anchor_2">CGAL_Interval_nt</A>
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
     I /  J
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=50%>
    is defined with the following meaning for the degenerate case where
    the denominator is an interval containing zero: it returns the
    interval ]<MATH>-infinity</MATH>;<MATH>+infinity</MATH>[ (the
    `division by zero' exception can be raised, but the default is to
    ignore it, see next paragraph for details).
        </TD></TR>
        
        <TR><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
    <A NAME="Function_CGAL_Interval_nt_sqrt6const_CGAL_Interval_nt__I9;"></A>
<A HREF="CGAL_Interval_nt.html#Cross_link_anchor_2">CGAL_Interval_nt</A>
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
    sqrt (  I)
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=50%>
    is defined and produces an error if the lower bound of the interval
    is a negative number.
        </TD></TR>
        
        <TR><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
    bool
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
     I &lt;  J
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=50%>
    returns <I>true</I> when any value in <MATH>I</MATH> is inferior to
    any value in <MATH>J</MATH>.
        </TD></TR>
        
        <TR><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
    bool
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
     I ==  J
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=50%>
    returns <I>true</I> when <MATH>I</MATH> and <MATH>J</MATH> overlap
    (or intersect).
        </TD></TR>
        
        <TR><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
    bool
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
     I &gt;  J
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=50%>
    is defined logically from the previous ones
        </TD></TR>
        
        <TR><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
    bool
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
     I &lt;=  J
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=50%>
    idem
        </TD></TR>
        
        <TR><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
    bool
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
     I &gt;=  J
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=50%>
    idem
        </TD></TR>
        
        <TR><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
    bool
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
     I !=  J
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=50%>
    idem
        </TD></TR>
        
        <TR><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
    <A NAME="Function_double_CGAL__to__double6const_CGAL_Interval_nt__I9;"></A>
double
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=75% NOWRAP COLSPAN=2>
        <I><NOBR>
    CGAL\_to\_double (  I)
        </I></NOBR>
        </TR><TR><TD WIDTH=25% NOWRAP></TD><TD WIDTH=25% NOWRAP></TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=50%>
    returns the middle of the interval, as a double approximation of
    the interval.
        </TD></TR>
        
        <TR><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
    double
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
    I.lower_bound ()
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=50%>
    returns the lower bound of the interval.
        </TD></TR>
        
        <TR><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
    double
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
    I.upper_bound ()
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=50%>
    returns the upper bound of the interval.
        </TD></TR>
        </TABLE><!3>

<P>

<H3>Implementation</H3><I><A HREF="CGAL_Interval_nt.html#Cross_link_anchor_2">CGAL_Interval_nt</A></I> derives from
<I><A HREF="CGAL_Interval_nt_advanced.html#Cross_link_anchor_3">CGAL_Interval_nt_advanced</A></I>, see Section&nbsp;<A HREF="CGAL_Interval_nt_advanced.html#interval-adv"><IMG SRC="../cc_ref_up_arrow.gif" ALT="reference arrow" WIDTH="10" HEIGHT="10"></A>.
<P>

<H3>Example</H3>Here a simple example is given showing how to make safe
and fast predicates. This kind of problem is going to be resolved
automatically by a predicate compiler, but before it is available, you
can do it by hand. Let's consider the <I>which_side</I> predicate:
<P>

<PRE>
int which_side(Point&lt;double&gt; P, Point&lt;double&gt; Q, Point&lt;double&gt; R)
{
  double a = P.x-R.x;
  double b = Q.x-R.x;
  double c = P.y-R.y;
  double d = Q.y-R.y;
  double det = a*d-b*c;

  return (det&gt;0) ? 1 : ( (det&lt;0) ? -1 : 0 );
}
</PRE>
<P>

This function becomes the following, if you want it to be exact&nbsp;:
<P>

<PRE>
#include &quot;CGAL/Interval_arithmetic.h&quot;
typedef <A HREF="CGAL_Interval_nt.html#Cross_link_anchor_2">CGAL_Interval_nt</A> Dis;

int which_side(Point&lt;double&gt; P, Point&lt;double&gt; Q, Point&lt;double&gt; R)
{
  Dis a = (Dis) P.x - (Dis) R.x;
  Dis b = (Dis) Q.x - (Dis) R.x;
  Dis c = (Dis) P.y - (Dis) R.y;
  Dis d = (Dis) Q.y - (Dis) R.y;
  Dis det = a*d-b*c;

  if (det == 0)
  {
    // Note: this doesn't work, but the idea is here.
    return which_side((Point&lt;LEDA_Real&gt;) P, (Point&lt;LEDA_Real&gt;) Q, (Point&lt;LEDA_Real&gt;) R);
  }
  else return (det&gt;0) ? 1 : -1;
}
</PRE>
<P>
<HR> <B>Next:</B>  Class declaration of <A HREF="CGAL_Interval_nt_advanced.html"><I>CGAL_Interval_nt_advanced</I></A>
<!-- Begin of cc_manual_footer -->
<!-- ------------------------- -->
<!-- $Revision: 1.1 $ -->
<!-- $Date: 1997/05/09 12:27:08 $ -->

<!-- Navigation -->
<HR>
  <STRONG>Navigation:</STRONG>
  <A HREF="Chapter_Numbertype.html">Up</A>,
  <A HREF="../contents.html">Table of Contents</A>,
  <A HREF="../biblio.html">Bibliography</A>,
  <A HREF="../manual_index.html">Index</A>,
  <A HREF="../title.html">Title Page</A>
<HR>

<address> 
  The <A HREF=http://www.cs.uu.nl/CGAL/>CGAL Project</A>.    Tue, April 21, 1998. 
</address>
</BODY>
</HTML>

<!-- End of cc_manual_footer -->
