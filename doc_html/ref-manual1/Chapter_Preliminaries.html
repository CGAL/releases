<!-- Begin of cc_manual_header -->
<!-- ------------------------- -->
<!-- $Revision: 1.1 $ -->
<!-- $Date: 1997/05/09 12:27:08 $ -->

  <!-- CC manual page automatically extracted from a TeX specification -->
  <!-- in file Chapter_Preliminaries.html -->
  <!-- by cc_extract_html, $Revision: 2.18 $. -->

<!--  Title -->
  <HEAD>
  <TITLE>Reference Manual: </TITLE>
  </HEAD>

<!-- Background layout-->
  <BODY BGCOLOR="FAF8E8" TEXT="#000000">

<!-- Navigation -->
  <STRONG>Navigation:</STRONG>
  <A HREF="Chapter_Preliminaries.html">Up</A>,
  <A HREF="contents.html">Table of Contents</A>,
  <A HREF="biblio.html">Bibliography</A>,
  <A HREF="manual_index.html">Index</A>,
  <A HREF="title.html">Title Page</A>
<HR>

<!-- End of cc_manual_header -->
<H1>Preliminaries</H1>
<A NAME="Preliminaries"></A><P>

Our object of study is the <MATH>d</MATH>-dimensional affine Euclidean space.
Here we are concerned with cases <MATH>d=2</MATH> and <MATH>d=3</MATH>.
Objects in that space are sets of points.
A common way to represent the points is the use of Cartesian
coordinates,
which assumes a reference frame (an origin and <MATH>d</MATH> orthogonal axes).
In that framework, a point is represented by a <MATH>d</MATH>-tuple<P>


<MATH>(c<SUB>0</SUB>,c<SUB>1</SUB>,...,c<SUB>d-1</SUB>)</MATH>}
%(c0,c1,...,c d-1)

, and so are vectors in the underlying linear space. Each point is
represented uniquely by such Cartesian coordinates.<P>

Another way to represent points is by homogeneous coordinates. In that
framework, a point is represented by a <MATH>(d+1)</MATH>-tuple<P>


<MATH>(h<SUB>0</SUB>,h<SUB>1</SUB>,...,h<SUB>d</SUB>)</MATH>

.
Via the formulae<P>


<MATH>c<SUB>i</SUB>=h<SUB>i</SUB>/h<SUB>d</SUB></MATH>

, the corresponding point with Cartesian coordinates<P>


<MATH>(c<SUB>0</SUB>,c<SUB>1</SUB>,...,c<SUB>d-1</SUB>)</MATH>

can be computed.
Note that homogeneous coordinates are not unique.
For<P>


<MATH>lambda != 0</MATH>

, the tuples
<MATH>(h<SUB>0</SUB>,h<SUB>1</SUB>
,...,h<SUB>d</SUB>)</MATH>
and
<MATH>(lambda  h<SUB>0</SUB>,lambda  h<SUB>1</SUB>,...,lambda  
h<SUB>d</SUB>)</MATH> represent the
same point.
For a point with Cartesian coordinates <MATH>(c<SUB>0</SUB>,c<SUB>1</SUB>,...,c<SUB>d-1</SUB>)</MATH> a
possible homogeneous representation is<P>


<MATH>(c<SUB>0</SUB>,c<SUB>1</SUB>,...,c<SUB>d-1</SUB>,1)</MATH>

.
Homogeneous coordinates in fact allow to represent objects in a
more general space, the projective space
<MATH>P<SUB>d</SUB></MATH>.
In CGAL, we do not compute in projective geometry. Rather, we use
homogeneous coordinates to avoid division operations,
since the additional coordinate can serve as a common denominator.<P>

<UL><LI>
 Class declaration of <A HREF="R.html"><I>R</I></A>.</UL>

<P>

Almost all the kernel objects (and the corresponding functions) are
templates with a parameter that allows the user to choose the
representation of the kernel objects. A type that is used as an
argument for this parameter must fulfill certain requirements on
syntax and semantics. The list of requirements defines an abstract
concept which is called a <EM>representation class</EM> in CGAL and
denoted by <I>R</I> throughout this manual.
The complete list of requirements is beyond the scope of this introduction.
It is important only if you want to define your own representation class.
It is sufficient to know that a representation class provides the
actual implementations of the kernel objects.<P>

CGAL offers two families of concrete models for the concept
representation class, one based on the Cartesian representation of points
and one based on the homogeneous representation of points.
The interface of the kernel objects is designed such that it works well
with both Cartesian and homogeneous representation, for example, points
in 2D have a constructor with three arguments as well.
The common interfaces parameterized with a representation class allow
one to develop code independent of the chosen representation.
We said ``families'' of models, because both families are parameterized too.
A user can choose the number type used to represent the coordinates.<P>

For reasons that will become evident later,
a representation class provides two typenames for number types,
namely <I>R::FT</I> and <I>R::RT</I>.

The type <I>R::FT</I> must fulfill the requirements on what is
called a <EM>field type</EM> in CGAL. This roughly means that <I>R::FT</I>
is a type for which operations <MATH>+</MATH>, <MATH>-</MATH>, <MATH>*</MATH> and <MATH>/</MATH> are defined
with semantics (approximately) corresponding to those of a field in
a mathematical sense. Note that, strictly speaking, the built-in type
<I>int</I> does not fullfil the requirements on a field type, since <I>int</I>s
correspond to elements of a ring rather than a field, especially
operation <MATH>/</MATH> is not the inverse of <MATH>*</MATH>.
The requirements on the type <I>R::RT</I> are weaker.
This type must fulfill the requirements on what is called a <EM>ring type</EM>
in CGAL. This roughly means that <I>R::RT</I>
is a type for which operations <MATH>+</MATH>, <MATH>-</MATH>, <MATH>*</MATH> are defined with semantics
(approximately) corresponding to those of a ring in a mathematical sense.
A very limited division operation <MATH>/</MATH> must be available as well.
It must work for exact (i.e., no remainder) integer divisions only.
Furthermore, both number types should fulfill CGAL's requirements on a
number type.
Note that a ring type is always a field type but not the other way
round.<P>

We describe below the two representations provided for CGAL kernel
objects, namely <I><A HREF="CGAL_Cartesian.html#Cross_link_anchor_0">CGAL_Cartesian</A></I> and <I><A HREF="CGAL_Homogeneous.html#Cross_link_anchor_1">CGAL_Homogeneous</A></I>.<P>

<UL><LI>
 Class declaration of <A HREF="CGAL_Cartesian.html"><I>CGAL_Cartesian&lt;FT&gt;</I></A>.</UL>

<P>

With <I><A HREF="CGAL_Cartesian.html#Cross_link_anchor_0">CGAL_Cartesian&lt;FT&gt;</A></I> you can choose Cartesian representation
of coordinates. When you choose Cartesian representation you
have to declare at the same time the type of the coordinates.
A number type used with the <I><A HREF="CGAL_Cartesian.html#Cross_link_anchor_0">CGAL_Cartesian</A></I> representation class
should be a <EM>field type</EM> as described above.
As mentioned above, the built-in type <I>int</I> is not a field type.
However, for some computations with Cartesian representation, no
division operation is needed, i.e.,
a <EM>ring type</EM> is sufficient in this case.)<P>

The declaration for a point with
<I>FT</I> = <TT>double</TT> and with coordinates <MATH>(1/3, 5/3)</MATH>
looks as follows:<P>

<PRE>
  <A HREF="CGAL_Point_2.html#Cross_link_anchor_4">CGAL_Point_2</A>&lt; <A HREF="CGAL_Cartesian.html#Cross_link_anchor_0">CGAL_Cartesian&lt;double&gt;</A> &gt; p(1.0/3.0, 5.0/3.0);
</PRE><P>

The keyword <TT>double</TT> makes that the program allocates memory for
storing the <MATH>x</MATH> and <MATH>y</MATH> coordinate in double precision format.<P>

With <I><A HREF="CGAL_Cartesian.html#Cross_link_anchor_0">CGAL_Cartesian&lt;NT&gt;</A></I>, both <I><A HREF="CGAL_Cartesian.html#Cross_link_anchor_0">CGAL_Cartesian&lt;NT&gt;</A>::FT</I>
and <I><A HREF="CGAL_Cartesian.html#Cross_link_anchor_0">CGAL_Cartesian&lt;NT&gt;</A>::RT</I> are mapped to number type <I>NT</I>.<P>

<UL><LI>
 Class declaration of <A HREF="CGAL_Homogeneous.html"><I>CGAL_Homogeneous&lt;RT&gt;</I></A>.</UL>

<P>

As we said before, homogeneous coordinates permit to avoid
division operations in numerical computations, since the additional
coordinate can serve as a common denominator.
Avoiding divisions can be useful for exact geometric computation.
With <I><A HREF="CGAL_Homogeneous.html#Cross_link_anchor_1">CGAL_Homogeneous&lt;RT&gt;</A></I> you can choose homogeneous representation
of coordinates with the kernel objects. As for Cartesian representation you
have to declare at the same time the type used to store the homogeneous
coordinates. Since the homogeneous representation allows one to avoid the
divisions, the number type associated with a homogeneous representation class
must be a model for the weaker concept ring type only. However,
some operations provided by this kernel involve division operations, for
example computing squared distances or returning a Cartesian coordinate.
To keep the requirements on the number type parameter of <I><A HREF="CGAL_Homogeneous.html#Cross_link_anchor_1">CGAL_Homogeneous</A></I>
low, the number type <I>CGAL_Quotient&lt;RT&gt;</I> is used instead.
This number type turns a ring type into a field type. It maintains
numbers as quotients, i.e. a numerator and a denominator.
Thereby, divisions are circumvented.<P>

A variable declaration for a point at Cartesian coordinates <MATH>(1/3, 5/3)</MATH>
represented with homogeneous coordinates with ring type
<I>double</I>
then looks as follows:<P>

<PRE>
  <A HREF="CGAL_Point_2.html#Cross_link_anchor_4">CGAL_Point_2</A>&lt; <A HREF="CGAL_Homogeneous.html#Cross_link_anchor_1">CGAL_Homogeneous&lt;double&gt;</A> &gt; p(1.0, 5.0, 3.0);
</PRE><P>

With <I><A HREF="CGAL_Homogeneous.html#Cross_link_anchor_1">CGAL_Homogeneous&lt;NT&gt;</A></I>, <I><A HREF="CGAL_Homogeneous.html#Cross_link_anchor_1">CGAL_Homogeneous&lt;NT&gt;</A>::FT</I> is
equal to <I>CGAL_Quotient&lt;NT&gt;</I> while
<I><A HREF="CGAL_Homogeneous.html#Cross_link_anchor_1">CGAL_Homogeneous&lt;NT&gt;</A>::RT</I> is equal to <I>NT</I>.<P>

<H3>Choosing a Representation Class</H3>
<P>

If you start with integral Cartesian coordinates, many geometric computations
will involve integral numerical values only. Especially, this is true for
geometric computations that evaluate only predicates, which are tantamount to
determinant computations. Examples are triangulation of point sets and
convex hull computation.
In this case, the Cartesian representation is probably the first choice, even
with a ring type. You might use limited precision integer types like
<I>int</I> or <I>long</I>, use <I>double</I> to present your integers (they
have more bits in their mantissa than an <I>int</I> and overflow nicely), or an
arbitrary precision integer type like the wrapper <I>CGAL_Gmpz</I> for the
GMP integers or <I>leda_integer</I>. Note, that unless you use an
arbitrary precision integer type, incorrect results might arise due to
overflow.<P>

If new points are to be constructed, for example
the intersection point of two lines, computation of
Cartesian coordinates usually involves divisions, so
you need to use a field type with Cartesian representation
or have to switch to homogeneous representation.
<I>double</I> is a possible, but imprecise field type.
You can also put any ring type into <I>CGAL_Quotient</I> to get a
field type and put it into <I><A HREF="CGAL_Cartesian.html#Cross_link_anchor_0">CGAL_Cartesian</A></I>, but you better put
the ring type into <I>Homogeneous</I>.
<I>leda_rational</I> and <I>leda_real</I> are valid field types, too.<P>

If it is crucial for you that the computation is reliable,
the right choice are probably number types that guarantee
exact computation. The number type <I>leda_real</I> guarantees
that all decisions and hence all branchings in a computation
are correct. They also allow you to compute approximations to whatever
precision you need. Furthermore computation with
<I>leda_real</I> is faster than computation with arbitrary precision
arithmetic. So if you would like to avoid surprises caused by imprecise
computation, this is a good choice. In fact, it is a good choice with
both representations, since divisions slow down the computation of
the reals and hence it might pay-off to avoid them.<P>

Still other people will prefer the built-in
type <TT>double</TT>, because they need speed and can live with
approximate results, or even algorithms that, from time to time,
crash or compute incorrect results due to accumulated rounding errors.<P>

<P>

<P>

<P><HR><H3>Footnotes</H3><P>

<OL>
<LI><A NAME="Footnote_1">The double colon :: is the C++ scope operator.
</OL>
<HR> Next chapter: <A HREF="Chapter_Utilities.html">Kernel Utilities</A>
<!-- Begin of cc_manual_footer -->
<!-- ------------------------- -->
<!-- $Revision: 1.1 $ -->
<!-- $Date: 1997/05/09 12:27:08 $ -->

<!-- Navigation -->
<HR>
  <STRONG>Navigation:</STRONG>
  <A HREF="Chapter_Preliminaries.html">Up</A>,
  <A HREF="contents.html">Table of Contents</A>,
  <A HREF="biblio.html">Bibliography</A>,
  <A HREF="manual_index.html">Index</A>,
  <A HREF="title.html">Title Page</A>
<HR>

<address> 
  The <A HREF=http://www.cs.uu.nl/CGAL/>CGAL Project</A>.    Tue, April 21, 1998. 
</address>
</BODY>
</HTML>

<!-- End of cc_manual_footer -->
