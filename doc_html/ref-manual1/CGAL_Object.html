<!-- Begin of cc_manual_header -->
<!-- ------------------------- -->
<!-- $Revision: 1.1 $ -->
<!-- $Date: 1997/05/09 12:27:08 $ -->

  <!-- CC manual page automatically extracted from a TeX specification -->
  <!-- in file Chapter_Utilities.html -->
  <!-- by cc_extract_html, $Revision: 2.18 $. -->

<!--  Title -->
  <HEAD>
  <TITLE>Reference Manual: CGAL_Object</TITLE>
  </HEAD>

<!-- Background layout-->
  <BODY BGCOLOR="FAF8E8" TEXT="#000000">

<!-- Navigation -->
  <STRONG>Navigation:</STRONG>
  <A HREF="Chapter_Utilities.html">Up</A>,
  <A HREF="contents.html">Table of Contents</A>,
  <A HREF="biblio.html">Bibliography</A>,
  <A HREF="manual_index.html">Index</A>,
  <A HREF="title.html">Title Page</A>
<HR>

<!-- End of cc_manual_header -->

<A NAME="Index_anchor_3"></A>

<A NAME="Cross_link_anchor_2"></A>

<P>

<H1> Generic Object (<I><A HREF="CGAL_Object.html#Cross_link_anchor_2">CGAL_Object</A></I>)</H1>
<P>

<A NAME="ChapterObject"></A>
<P>

<H3>Definition</H3>Some functions can return different types of
objects. A typical C++ solution to this problem is to derive all
possible return types from a common base class, to return a pointer to
this class and to perform a dynamic cast on this pointer. The class
<I><A HREF="CGAL_Object.html#Cross_link_anchor_2">CGAL_Object</A></I> provides an abstraction. An object <I>obj</I> of the
class <I><A HREF="CGAL_Object.html#Cross_link_anchor_2">CGAL_Object</A></I> can represent an arbitrary class. The only
operations it provides is to make copies and assignments, so that you
can put them in lists or arrays. Note that <I><A HREF="CGAL_Object.html#Cross_link_anchor_2">CGAL_Object</A></I> s NOT a
common base class for the elementary classes. Therefore, there is no
automatic conversion from these classes to <I><A HREF="CGAL_Object.html#Cross_link_anchor_2">CGAL_Object</A></I>. Rather
this is done with the method <I>CGAL_makeobject()</I>. This
encapsulation mechanism requires the use of <I>CGAL_assign</I> to use
the functionality of the encapsulated class.
<P>

<H3>Creation</H3>
<P>

        <!2><TABLE BORDER=0 CELLSPACING=2 CELLPADDING=0 WIDTH=650>
        <TR><TD ALIGN=LEFT VALIGN=TOP WIDTH=100% NOWRAP COLSPAN=2>
        <I><NOBR>
    <A HREF="CGAL_Object.html#Cross_link_anchor_2">CGAL_Object</A> obj;
        </I></NOBR>
        </TD></TR><TR><TD WIDTH=30% NOWRAP></TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=70%>
    introduces an uninitialized variable.
    <P>
        </TD></TR>
        
        <TR><TD ALIGN=LEFT VALIGN=TOP WIDTH=100% NOWRAP COLSPAN=2>
        <I><NOBR>
    <A HREF="CGAL_Object.html#Cross_link_anchor_2">CGAL_Object</A> obj (  o);
        </I></NOBR>
        </TD></TR><TR><TD WIDTH=30% NOWRAP></TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=70%>
    Copy constructor.
    <P>
        </TD></TR>
        </TABLE><!2>

        <!3><TABLE BORDER=0 CELLSPACING=2 CELLPADDING=0 WIDTH=650>
        <TR><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
    <A NAME="Function_CGAL_Object_CGAL_make_object6const_T__t9;"></A>
<A HREF="CGAL_Object.html#Cross_link_anchor_2">CGAL_Object</A>
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=75% NOWRAP COLSPAN=2>
        <I><NOBR>
    CGAL_make_object (  T t)
        </I></NOBR>
        </TR><TR><TD WIDTH=25% NOWRAP></TD><TD WIDTH=25% NOWRAP></TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=50%>
    Creates an object that contains <I>t</I>.
        </TD></TR>
        </TABLE><!3>

<P>

<H3>Operations</H3>
<P>

        <!3><TABLE BORDER=0 CELLSPACING=2 CELLPADDING=0 WIDTH=650>
        <TR><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
    <A HREF="CGAL_Object.html#Cross_link_anchor_2">CGAL_Object</A> &amp;
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
     obj =  o
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=50%>
    Assignment.
        </TD></TR>
        
        <TR><TD ALIGN=LEFT VALIGN=TOP WIDTH=25% NOWRAP>
        <I><NOBR>
    <A NAME="Function_bool_CGAL_assign6CGAL_Class__c+_const_CGAL_Object__o9;"></A>
bool
        </I></NOBR>
        </TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=75% NOWRAP COLSPAN=2>
        <I><NOBR>
    CGAL_assign ( CGAL_Class &amp;c,  o)
        </I></NOBR>
        </TR><TR><TD WIDTH=25% NOWRAP></TD><TD WIDTH=25% NOWRAP></TD><TD ALIGN=LEFT VALIGN=TOP WIDTH=50%>
    assigns <I>o</I> to <I>c</I> if <I>o</I> was constructed from an
    object of type <I>CGAL_Class</I>. Returns true, if the assignment
    was possible.
        </TD></TR>
        </TABLE><!3>

<P>

<H3>Example</H3>In the following example, the object class is used as
return value for the intersection computation, as there are possibly
different return values.
<P>

<P>
<PRE>
{
    <A HREF="CGAL_Point_2.html#Cross_link_anchor_4">CGAL_Point_2</A>&lt; <A HREF="CGAL_Cartesian.html#Cross_link_anchor_0">CGAL_Cartesian&lt;double&gt;</A> &gt; point;
    <A HREF="CGAL_Segment_2.html#Cross_link_anchor_9">CGAL_Segment_2</A>&lt; <A HREF="CGAL_Cartesian.html#Cross_link_anchor_0">CGAL_Cartesian&lt;double&gt;</A> &gt; segment,  segment_1, segment_2;

    cin &gt;&gt; segment_1 &gt;&gt; segment_2;

   <A HREF="CGAL_Object.html#Cross_link_anchor_2">CGAL_Object</A> obj = CGAL_intersection(segment_1, segment_2);

    if (CGAL_assign(point, obj)) {
        /* do something with point */
    } else if ((CGAL_assign(segment, obj)) {
        /* do something with segment*/
    }
    /*  there was no intersection */
}
</PRE>
<P>

The intersection routine itself looks roughly as follows:
<P>

<PRE>

template &lt; class R &gt;
<A HREF="CGAL_Object.html#Cross_link_anchor_2">CGAL_Object</A>  CGAL_intersection(<A HREF="CGAL_Segment_2.html#Cross_link_anchor_9">CGAL_Segment_2&lt;R&gt;</A> s1, <A HREF="CGAL_Segment_2.html#Cross_link_anchor_9">CGAL_Segment_2&lt;R&gt;</A> s2)
{
    if (/* intersection in a point */ ) {
       <A HREF="CGAL_Point_2.html#Cross_link_anchor_4">CGAL_Point_2&lt;R&gt;</A> p = ... ;
       return CGAL_make_object(p);
    } else if (/* intersection in a segment */ ) {
       <A HREF="CGAL_Segment_2.html#Cross_link_anchor_9">CGAL_Segment_2&lt;R&gt;</A> s = ... ;
       return CGAL_make_object(s);
    }
    return <A HREF="CGAL_Object.html#Cross_link_anchor_2">CGAL_Object</A>();
}
</PRE>
<P>
<HR><B> Return to chapter:</B> <A HREF="Chapter_Utilities.html">Kernel Utilities</A>
<!-- Begin of cc_manual_footer -->
<!-- ------------------------- -->
<!-- $Revision: 1.1 $ -->
<!-- $Date: 1997/05/09 12:27:08 $ -->

<!-- Navigation -->
<HR>
  <STRONG>Navigation:</STRONG>
  <A HREF="Chapter_Utilities.html">Up</A>,
  <A HREF="contents.html">Table of Contents</A>,
  <A HREF="biblio.html">Bibliography</A>,
  <A HREF="manual_index.html">Index</A>,
  <A HREF="title.html">Title Page</A>
<HR>

<address> 
  The <A HREF=http://www.cs.uu.nl/CGAL/>CGAL Project</A>.    Tue, April 21, 1998. 
</address>
</BODY>
</HTML>

<!-- End of cc_manual_footer -->
