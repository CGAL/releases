# This is the makefile for compiling a CGAL application.

#---------------------------------------------------------------------#
#                    include platform specific settings
#---------------------------------------------------------------------#
# Choose the right include file from the <cgalroot>/make directory.

include $(CGAL_MAKEFILE)

#---------------------------------------------------------------------#
#                    compiler flags
#---------------------------------------------------------------------#


# add YOUR compiler and linker flags here.
# NEVER remove the CGAL compile or link flags.
CC = $(CGAL_CXX)

# change the paths for your installation if necessary
LIB_CXXFLAGS = $(CGAL_LIB_CXXFLAGS) \
          -DCGAL_RSH=\"rsh\" \
          -DCGAL_GEOMVIEW=\"geomview\"

SHARED_LIB_CXXFLAGS = $(CGAL_SHARED_LIB_CXXFLAGS) \
          -DCGAL_RSH=\"rsh\" \
          -DCGAL_GEOMVIEW=\"geomview\"


LDFLAGS = $(CGAL_LDFLAGS)

LIB_DIR = $(CGAL_LIB_DIR)/$(CGAL_OS_COMPILER)

geomview: $(LIB_DIR)/libGeomview.a $(LIB_DIR)/libGeomview.so

clean:
	rm *.o *~ *.a *.so

$(LIB_DIR)/libGeomview.a: object
	$(CGAL_LIB_CREATE) libGeomview.a Geomview_stream.o
	mv libGeomview.a $(LIB_DIR)/libGeomview.a
	rm Geomview_stream.o

$(LIB_DIR)/libGeomview.so: shared_object
	$(CGAL_SHARED_LIB_CREATE) libGeomview.so Geomview_stream.o
	mv libGeomview.so $(LIB_DIR)/libGeomview.so
	rm Geomview_stream.o

object:  Geomview_stream.C
	$(CGAL_CXX) $(LIB_CXXFLAGS) -c Geomview_stream.C

shared_object:  Geomview_stream.C
	$(CGAL_CXX) $(SHARED_LIB_CXXFLAGS) -c Geomview_stream.C
